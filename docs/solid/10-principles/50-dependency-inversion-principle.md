Принцип инверсии зависимости
============================

Dependency Inversion Principle; DIP


Принцип инверсии зависимости (Dependency Inversion Principle; DIP) утверждает, 
что наиболее гибкими получаются системы, в которых зависимости в исходном коде 
направлены на абстракции, а не на конкретные реализации.

В языках со статической системой типов, таких как Java, это означает, 
что инструкции use, import и include должны ссылаться только на модули 
с исходным кодом, содержащим интерфейсы, абстрактные классы и другие абстрактные объявления. 
Никаких зависимостей от конкретных реализаций не должно быть.

Правила
-------

1. Не ссылайтесь на изменчивые конкретные классы. 
   Ссылайтесь на абстрактные интерфейсы. 
   Это правило применимо во всех языках, независимо от устройства системы типов. 
   Оно также накладывает важные ограничения на создание объектов и определяет 
   преимущественное использование шаблона «Абстрактная фабрика».
   
2. Не наследуйте изменчивые конкретные классы. 
   Это естественное следствие из предыдущего правила, но оно достойно отдельного упоминания. 
   Наследование в языках со статической системой типов является самым строгим и жестким 
   видом отношений в исходном коде; следовательно, его следует использовать с большой осторожностью. 
   Наследование в языках с динамической системой типов влечет меньшее количество проблем, 
   но все еще остается зависимостью, поэтому дополнительная предосторожность никогда не помешает.
   
3. Не переопределяйте конкретные функции. 
   Конкретные функции часто требуют зависимостей в исходном коде. 
   Переопределяя такие функции, вы не устраняете эти зависимости — фактически вы наследуете их. 
   Для управления подобными зависимостями нужно сделать функцию абстрактной 
   и создать несколько ее реализаций.
   
4. Никогда не ссылайтесь на имена конкретных и изменчивых сущностей. 
   В действительности это всего лишь перефразированная форма самого принципа.